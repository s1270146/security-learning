# ポートスキャン

ネットワークセキュリティの学習

ポートスキャンについて、学習したものをまとめました。

ポートスキャンとは、サーバの各ポートへデータを送信し、その応答から稼働状況を調べる方法のこと

### 得られるもの

対象サーバに対して以下の情報を把握できる

- どのポートが開放されているか
- ファイアウォールによってそのポートがフィルタリングされているか
- 開放されているポートで稼働中のサービスに関する情報

主なポート番号とサービス

20 FTP(データ転送)

21 FTP(制御)

22 SSH

25 SMTP

53 DNS

80 HTTP

110 POP3

123 NTP

443 HTTPS

### 用途

サイバー攻撃の下調べに使われる

不用意に開放されているポートがあれば、そのポートに対して攻撃をかけやすいと判断できる

### 仕組み

「スリーウェイハンドシェイク」という技術が使われる

1. クライアント側が「SYNパケット」を送信する
1. サーバ側は、
    - ポートが開放されていて接続を受け付けられる状態であれば、「SYN+ACKパケット」を返す
    - ポートが閉じていれば、「SYN+RSTパケット」を返す
1. 接続する側は「SYN+ACKパケット」を受け取ったあとに、「ACKパケット」を返します。

![スリーウェイハンドシェイク](https://qiita-image-store.s3.ap-northeast-1.amazonaws.com/0/570011/809f0be7-7d0e-311e-a222-41a8907be85a.png)

### Java コード

https://github.com/s1270146/security-learning/tree/main/network/portscan
